<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Arshiya Ai</title>

<style>
:root{
  --bg:#05060b;
  --panel:rgba(255,255,255,.06);
  --stroke:rgba(255,255,255,.12);
  --txt:#f5f7fb;
  --muted:#a8b0c3;
  --a:#8b7bff;
  --b:#22d3ee;
}

*{box-sizing:border-box}
body{
  margin:0;
  height:100vh;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  color:var(--txt);
  background:
    radial-gradient(800px 500px at 15% 10%, rgba(139,123,255,.18), transparent 60%),
    radial-gradient(700px 450px at 85% 20%, rgba(34,211,238,.16), transparent 62%),
    linear-gradient(180deg,#05060b,#070912);
}

.app{
  height:100%;
  display:grid;
  grid-template-columns:320px 1fr;
  gap:14px;
  padding:14px;
}

.card{
  background:var(--panel);
  border:1px solid var(--stroke);
  border-radius:24px;
  backdrop-filter:blur(14px);
}

.sidebar{
  padding:16px;
  display:flex;
  flex-direction:column;
  gap:16px;
}

.brand{
  display:flex;
  align-items:center;
  gap:12px;
  padding:12px;
  border-radius:18px;
  border:1px solid var(--stroke);
}

.logo{
  width:42px;height:42px;
  border-radius:14px;
  background:conic-gradient(from 220deg,var(--a),var(--b),var(--a));
}

.brand h1{
  margin:0;
  font-size:16px;
  letter-spacing:.3px;
}

.small{
  font-size:12px;
  color:var(--muted);
}

.box{
  padding:12px;
  border-radius:18px;
  border:1px solid var(--stroke);
}

label{
  font-size:12px;
  color:var(--muted);
  display:block;
  margin-bottom:6px;
}

input,select{
  width:100%;
  padding:10px;
  border-radius:14px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.25);
  color:var(--txt);
}

button{
  width:100%;
  padding:10px 12px;
  margin-top:10px;
  border-radius:16px;
  border:1px solid var(--stroke);
  background:linear-gradient(135deg,rgba(139,123,255,.35),rgba(34,211,238,.25));
  color:white;
  font-weight:700;
  cursor:pointer;
}

.main{
  display:flex;
  flex-direction:column;
  overflow:hidden;
}

.top{
  padding:14px 16px;
  border-bottom:1px solid var(--stroke);
  display:flex;
  justify-content:space-between;
}

.arena{
  flex:1;
  overflow:auto;
  padding:18px;
}

.msg{
  max-width:900px;
  margin:0 auto 14px;
  display:flex;
  gap:10px;
}

.avatar{
  width:36px;height:36px;
  border-radius:14px;
  border:1px solid var(--stroke);
  display:grid;
  place-items:center;
}

.bubble{
  flex:1;
  border-radius:18px;
  border:1px solid var(--stroke);
  overflow:hidden;
}

.meta{
  padding:8px 12px;
  font-size:12px;
  color:var(--muted);
  border-bottom:1px solid var(--stroke);
}

.body{
  padding:12px;
  white-space:pre-wrap;
  line-height:1.55;
}

.user{background:rgba(139,123,255,.10)}
.ai{background:rgba(34,211,238,.08)}

.images{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:10px;
  margin-top:10px;
}

.images img{
  width:100%;
  border-radius:14px;
}

.composer{
  padding:14px;
  border-top:1px solid var(--stroke);
}

.row{
  max-width:950px;
  margin:0 auto;
  display:grid;
  grid-template-columns:1fr auto;
  gap:10px;
}

textarea{
  width:100%;
  min-height:56px;
  max-height:160px;
  resize:none;
  padding:12px;
  border-radius:18px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.25);
  color:var(--txt);
}
</style>
</head>

<body>
<div class="app">

  <!-- SIDEBAR -->
  <aside class="card sidebar">
    <div class="brand">
      <div class="logo"></div>
      <div>
        <h1>Arshiya Ai</h1>
        <div class="small">Custom assistant</div>
      </div>
    </div>

    <div class="box">
      <label>OpenAI API Key</label>
      <input id="key" type="password" placeholder="sk-..." />
      <button onclick="saveKey()">Save Key</button>
      <div class="small" id="status">Not connected</div>
    </div>

    <div class="box">
      <label>Mode</label>
      <select id="mode">
        <option value="chat">Chat</option>
        <option value="image">Image</option>
      </select>
    </div>
  </aside>

  <!-- MAIN -->
  <main class="card main">
    <div class="top">
      <div>Arshiya Ai</div>
      <div class="small">Live AI</div>
    </div>

    <div class="arena" id="arena"></div>

    <div class="composer">
      <div class="row">
        <textarea id="input" placeholder="Type here..."></textarea>
        <button onclick="send()">Send</button>
      </div>
    </div>
  </main>
</div>

<script>
const arena = document.getElementById("arena");
const input = document.getElementById("input");
const mode = document.getElementById("mode");
const keyInput = document.getElementById("key");
const status = document.getElementById("status");

let messages = [];

function saveKey(){
  localStorage.setItem("arshiya_key", keyInput.value.trim());
  status.textContent = "Key saved";
}

keyInput.value = localStorage.getItem("arshiya_key") || "";

function add(role, content, images){
  messages.push({role, content, images});
  render();
}

function render(){
  arena.innerHTML = messages.map(m=>{
    let imgs = "";
    if(m.images){
      imgs = `<div class="images">` +
        m.images.map(i=>`<img src="${i}">`).join("") +
        `</div>`;
    }
    return `
      <div class="msg">
        <div class="avatar"></div>
        <div class="bubble ${m.role}">
          <div class="meta">${m.role === "user" ? "You" : "Arshiya Ai"}</div>
          <div class="body">${m.content || ""}${imgs}</div>
        </div>
      </div>
    `;
  }).join("");
  arena.scrollTop = arena.scrollHeight;
}

async function send(){
  const text = input.value.trim();
  if(!text) return;
  input.value = "";
  add("user", text);

  const apiKey = localStorage.getItem("arshiya_key");
  if(!apiKey){ add("ai","Missing API key"); return; }

  if(mode.value === "chat"){
    const res = await fetch("https://api.openai.com/v1/chat/completions",{
      method:"POST",
      headers:{
        "Content-Type":"application/json",
        "Authorization":"Bearer " + apiKey
      },
      body:JSON.stringify({
        model:"gpt-4o-mini",
        messages:[
          {role:"system",content:"You are Arshiya Ai. Be direct, modern, and helpful. Do not sound like ChatGPT."},
          ...messages.filter(m=>!m.images).map(m=>({
            role:m.role==="user"?"user":"assistant",
            content:m.content
          }))
        ]
      })
    });
    const data = await res.json();
    add("ai", data.choices[0].message.content);
  } else {
    const res = await fetch("https://api.openai.com/v1/images/generations",{
      method:"POST",
      headers:{
        "Content-Type":"application/json",
        "Authorization":"Bearer " + apiKey
      },
      body:JSON.stringify({
        model:"gpt-image-1",
        prompt:text,
        n:2,
        size:"1024x1024"
      })
    });
    const data = await res.json();
    add("ai","Generated:", data.data.map(d=>"data:image/png;base64,"+d.b64_json));
  }
}

input.addEventListener("keydown",e=>{
  if(e.key==="Enter"&&!e.shiftKey){
    e.preventDefault();
    send();
  }
});
</script>
</body>
</html>
</script>
</body>
</html>

